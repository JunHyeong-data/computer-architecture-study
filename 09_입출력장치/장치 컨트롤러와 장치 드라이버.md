# 장치 컨트롤러와 장치 드라이버

이번 절에서는 **장치 컨트롤러**와 **장치 드라이버**라는 개념을 통해  
다양한 외부 장치가 컴퓨터 내부와 어떻게 연결되고 소통하는지를 알아보겠습니다.

---

## 💾 장치 컨트롤러

입출력장치는 앞서 학습한 CPU, 메모리보다 다루기가 더 까다롭습니다.  
왜일까요? 그 이유는 다음 두 가지입니다:

1. **입출력장치의 종류가 매우 다양하다**  
   - 장치마다 속도, 데이터 형식, 전송 방식이 달라 **규격화가 어렵습니다.**

2. **입출력장치의 전송률이 낮다**  
   - CPU/메모리: 빠른 전송률  
   - 입출력장치: 느린 전송률  
   - → 서로 직접 통신하기 어려움

그래서 **입출력장치는 컴퓨터에 직접 연결되지 않고**,  
**장치 컨트롤러**라는 하드웨어를 통해 연결됩니다.

> 장치 컨트롤러는 **입출력 제어기**, **입출력 모듈** 등으로도 불리지만,  
> 여기서는 **장치 컨트롤러**라는 용어를 사용합니다.

---

### 🎯 장치 컨트롤러의 기능

장치 컨트롤러는 다음과 같은 주요 역할을 수행합니다:

1. **프로토콜 변환 (번역가 역할)**  
   - 다양한 장치와 통신할 수 있도록 표준화

2. **오류 검출**  
   - 연결된 장치에 문제가 없는지 확인

3. **데이터 버퍼링**  
   - 전송률이 높은 장치와 낮은 장치 사이의 속도 차이를 조절  
   - **버퍼**라는 임시 저장 공간을 사용함  
   - 예시: 데이터를 모았다가 한꺼번에 보내거나, 한꺼번에 받아서 조금씩 전송

---

### 🧠 장치 컨트롤러의 내부 구조

장치 컨트롤러에는 보통 다음 3가지 레지스터가 있습니다:

| 레지스터 | 설명 |
|----------|------|
| **데이터 레지스터** | CPU ↔ 입출력장치 간 데이터가 저장되는 공간 |
| **상태 레지스터** | 장치의 상태 정보 (작업 준비 여부, 오류 여부 등) 저장 |
| **제어 레지스터** | 장치에 전달할 제어 명령 저장 |

---

## 🧩 장치 드라이버

새로운 장치를 컴퓨터에 연결하면 **장치 드라이버**를 설치하라는 메시지를 보게 됩니다.  
그 이유는 장치 드라이버가 다음과 같은 역할을 하기 때문입니다:

- **장치 컨트롤러를 감지하고 제어하는 소프트웨어**
- 장치 컨트롤러와 컴퓨터 내부 간의 **정보 전달 통로 역할**

> 💡 **정리하면:**  
> - 장치 컨트롤러: **하드웨어적인 연결**  
> - 장치 드라이버: **소프트웨어적인 연결**

